{"ast":null,"code":"var _this=this;import ShopActionTypes from\"./shops.types\";import{firestore,convertColletionToMap}from\"../../firebase/firebase.utils\";export var fetchCollectionsStart=function fetchCollectionsStart(){return{type:ShopActionTypes.FETCH_COLLECTIONS_START};};export var fetchCollectionsSuccess=function fetchCollectionsSuccess(colletionMap){return{type:ShopActionTypes.FETCH_COLLECTIONS_SUCCESS,payload:colletionMap};};export var fetchCollectionsFailure=function fetchCollectionsFailure(errorMessage){return{type:ShopActionTypes.FETCH_COLLECTIONS_FALIURE,payload:errorMessage};};export var fetchCollectionsStartAsync=function fetchCollectionsStartAsync(){return function(dispatch){var collectionRef=firestore.collection(\"collections\");dispatch(fetchCollectionsStart());collectionRef.get().then(function(snaphot){var collectionMap=convertColletionToMap(snaphot);// console.log(\"shop mount\", collectionMap);\ndispatch(fetchCollectionsSuccess(collectionMap));_this.setState({isLoading:false});}).catch(function(error){return console.log(error);});};};","map":{"version":3,"sources":["/home/skyraider/Projects/React/trenders/src/redux/shop/shop.actions.js"],"names":["ShopActionTypes","firestore","convertColletionToMap","fetchCollectionsStart","type","FETCH_COLLECTIONS_START","fetchCollectionsSuccess","colletionMap","FETCH_COLLECTIONS_SUCCESS","payload","fetchCollectionsFailure","errorMessage","FETCH_COLLECTIONS_FALIURE","fetchCollectionsStartAsync","dispatch","collectionRef","collection","get","then","snaphot","collectionMap","setState","isLoading","catch","error","console","log"],"mappings":"eAAA,MAAOA,CAAAA,eAAP,KAA4B,eAA5B,CAEA,OACEC,SADF,CAEEC,qBAFF,KAGO,+BAHP,CAKA,MAAO,IAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,SAAO,CAC1CC,IAAI,CAAEJ,eAAe,CAACK,uBADoB,CAAP,EAA9B,CAIP,MAAO,IAAMC,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,CAAAC,YAAY,QAAK,CACtDH,IAAI,CAAEJ,eAAe,CAACQ,yBADgC,CAEtDC,OAAO,CAAEF,YAF6C,CAAL,EAA5C,CAKP,MAAO,IAAMG,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,CAAAC,YAAY,QAAK,CACtDP,IAAI,CAAEJ,eAAe,CAACY,yBADgC,CAEtDH,OAAO,CAAEE,YAF6C,CAAL,EAA5C,CAKP,MAAO,IAAME,CAAAA,0BAA0B,CAAG,QAA7BA,CAAAA,0BAA6B,EAAM,CAC9C,MAAO,UAAAC,QAAQ,CAAI,CACjB,GAAMC,CAAAA,aAAa,CAAGd,SAAS,CAACe,UAAV,CAAqB,aAArB,CAAtB,CACAF,QAAQ,CAACX,qBAAqB,EAAtB,CAAR,CACAY,aAAa,CACVE,GADH,GAEGC,IAFH,CAEQ,SAAAC,OAAO,CAAI,CACf,GAAMC,CAAAA,aAAa,CAAGlB,qBAAqB,CAACiB,OAAD,CAA3C,CACA;AACAL,QAAQ,CAACR,uBAAuB,CAACc,aAAD,CAAxB,CAAR,CACA,KAAI,CAACC,QAAL,CAAc,CAAEC,SAAS,CAAE,KAAb,CAAd,EACD,CAPH,EAQGC,KARH,CAQS,SAAAC,KAAK,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAJ,EARd,EASD,CAZD,CAaD,CAdM","sourcesContent":["import ShopActionTypes from \"./shops.types\";\n\nimport {\n  firestore,\n  convertColletionToMap\n} from \"../../firebase/firebase.utils\";\n\nexport const fetchCollectionsStart = () => ({\n  type: ShopActionTypes.FETCH_COLLECTIONS_START\n});\n\nexport const fetchCollectionsSuccess = colletionMap => ({\n  type: ShopActionTypes.FETCH_COLLECTIONS_SUCCESS,\n  payload: colletionMap\n});\n\nexport const fetchCollectionsFailure = errorMessage => ({\n  type: ShopActionTypes.FETCH_COLLECTIONS_FALIURE,\n  payload: errorMessage\n});\n\nexport const fetchCollectionsStartAsync = () => {\n  return dispatch => {\n    const collectionRef = firestore.collection(\"collections\");\n    dispatch(fetchCollectionsStart());\n    collectionRef\n      .get()\n      .then(snaphot => {\n        const collectionMap = convertColletionToMap(snaphot);\n        // console.log(\"shop mount\", collectionMap);\n        dispatch(fetchCollectionsSuccess(collectionMap));\n        this.setState({ isLoading: false });\n      })\n      .catch(error => console.log(error));\n  };\n};\n"]},"metadata":{},"sourceType":"module"}